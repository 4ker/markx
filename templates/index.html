{% extends "base.html" %}

{% block header %}

<div class="span6" style="line-height: 40px;">
	<form class="form-inline">
		<a class="brand" href="/">
		<img class="img-rounded" alt="Markx" title="Markx" alt="Markx"src="/static/karl-marx-160x40.png">
		</a>
		<input type="text" placeholder="Filename...">  
		<button class="btn">Browse</button>
		<button type="submit" class="btn btn-primary">Save</button>
	</form>
</div>

{% endblock header %}

{% block left %}


<div class="wmd-panel">
	<div id="wmd-button-bar-second"></div>
	<textarea class="wmd-input" id="wmd-input-second">
# Markx

*Marx* is a [Markdown] editor with [Pandoc] flavor in your browser.

## Features

1. Zenware
1. Display math - $x^2+y^2=r^2$
1. Markdown flavor of Pandoc
1. Code highlighting:
<pre class="prettyprint numline:1">
for x in lst:
	print x
</pre>

## Technology

  * [Python] with [Flask]
  * [PageDown] markdown editor
  * [Twitter Bootstrap] with [Glyphicons Free]
  * [Google Code Prettifier]
  * [MathJax]

[Markdown]: http://daringfireball.net/projects/markdown/
[Pandoc]: http://johnmacfarlane.net/pandoc
[Python]: http://python.org/
[Flask]: http://flask.pocoo.org/
[Twitter Bootstrap]: http://blog.getbootstrap.com/
[Google Code Prettifier]: http://code.google.com/p/google-code-prettify/
[Glyphicons Free]: http://glyphicons.com/
[MathJax]: http://mathjax.org/
[PageDown]: http://code.google.com/p/pagedown/
	</textarea>
</div>
{% endblock left %}

{% block right %}
<div id="wmd-preview-second" class="wmd-panel wmd-preview"></div>
{% endblock right %}	

{% block footer %}

<script type="text/javascript">
(function () {   
	var converter2 = new Markdown.Converter();

	converter2.hooks.chain("preConversion", function (text) {
		return text.replace(/\b(a\w*)/gi, "*$1*");
	});

	converter2.hooks.chain("plainLinkText", function (url) {
		return "This is a link to " + url.replace(/^https?:\/\//, "");
	});

	var help = function () { alert("Do you need help?"); }
	var options = {
		helpButton: { handler: help },
		strings: { quoteexample: "whatever you're quoting, put it right here" }
	};
	var editor2 = new Markdown.Editor(converter2, "-second", options);

	editor2.hooks.chain("onPreviewRefresh", function () {
        prettyPrint();
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    });

	editor2.run();

})();
</script>
{%endblock footer %}	